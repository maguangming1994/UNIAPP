(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/yxm/user/jms_upgrade"],{"05ac":function(t,a,e){"use strict";e.r(a);var n=e("e2d5"),o=e("b7b3");for(var i in o)"default"!==i&&function(t){e.d(a,t,function(){return o[t]})}(i);e("b8ba");var r,s=e("f0c5"),u=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);a["default"]=u.exports},"157a":function(t,a,e){},9635:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e("2d5f"),o=function(){return e.e("bra/forms/bra_level_picker").then(e.bind(null,"2b1b"))},i=function(){return e.e("bra/forms/bra_input").then(e.bind(null,"b163"))},r={components:{bra_level_picker:o,bra_input:i},data:function(){return{page_name:"yxm_jms_upgrade",module:"yxm",is_page_loaded:!1,page_data:{},fucking_params:{},params:{},current:""}},onShow:function(){var t=this;this.checkLogin(function(a){a&&(t.is_page_loaded||t.onMhcmsPull())},!this.is_page_loaded,!0)},methods:{onMhcmsPull:function(){var a=this;this.bra_common_page(this.module,this.page_name,{},!0,function(e){a.page_data=a.elements.page_data,a.is_page_loaded=!0,t.stopPullDownRefresh()})},on_bra_form_val:function(t){this.on_form_val(t)},do_upgrade_apply:function(){var a=this,e=n._.extend({type:this.current},this.fucking_params);return e.area_id?e.title?this.bra_common_page(this.module,this.page_name+"_apply",e,!0,function(e){var n=e.data.page_data;console.log(n),1==n.code?(a.show_toast(n.msg),a.$store.commit("change_jms",!0),a.onBack()):a.show_toast(n.msg),t.stopPullDownRefresh()},"post",!1):this.show_toast("对不起 , 请输入您的姓名!"):this.show_toast("对不起 , 请选择您所在地区!")},do_upgrade:function(){var a=this,e=n._.extend({type:this.current},this.fucking_params);return e.area_id?e.title?this.bra_common_page(this.module,this.page_name,e,!0,function(e){var n=e.data.page_data;if(console.log(n),a.is_page_loaded=!0,t.stopPullDownRefresh(),6==n.code)return a.get_app_pay_params(n.data.data.id,"micropay",function(e){console.log(JSON.stringify(e)),t.requestPayment({provider:"wxpay",orderInfo:JSON.stringify(e),success:function(t){a.show_toast("支付成功"),a.do_upgrade()},fail:function(t){console.log("fail:"+JSON.stringify(t)),a.show_toast("支付失败")}})});1==n.code?(a.show_toast(n.msg),a.onNav({url:"/pages/yxm/user/index",type:"redirect"})):a.show_toast(n.msg)},"post",!1):this.show_toast("对不起 , 请输入您的姓名!"):this.show_toast("对不起 , 请选择您所在地区!")}},computed:{total_price:function(){if(this.page_data.config){if("sd"==this.current)return this.page_data.config.sd_price*this.page_data.config.sd_1amount;if("qd"==this.current)return this.page_data.config.qd_price*this.page_data.config.qd_1amount}return 0}},watch:{current:function(t){this.fucking_params.area_id=""}}};a.default=r}).call(this,e("543d")["default"])},b7b3:function(t,a,e){"use strict";e.r(a);var n=e("9635"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,function(){return n[t]})}(i);a["default"]=o.a},b821:function(t,a,e){"use strict";(function(t){e("5e7b"),e("921b");n(e("66fd"));var a=n(e("05ac"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},b8ba:function(t,a,e){"use strict";var n=e("157a"),o=e.n(n);o.a},e2d5:function(t,a,e){"use strict";var n,o=function(){var t=this,a=t.$createElement;t._self._c;t._isMounted||(t.e0=function(a){t.current="sd"},t.e1=function(a){t.current="qd"})},i=[];e.d(a,"b",function(){return o}),e.d(a,"c",function(){return i}),e.d(a,"a",function(){return n})}},[["b821","common/runtime","common/vendor"]]]);