(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/change_password"],{3713:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;getApp();var n={components:{},data:function(){return{count:60,mobile_number:"",token:"",btn_txt:"获取验证码",show_weixin:!0,code:"",module:"bra",page_name:"bra_user_chang_password",is_page_loaded:!1,page_data:{},pass:""}},onLoad:function(){},onShow:function(){this.onMhcmsPull()},methods:{onMhcmsPull:function(){var e=this,n={};this.bra_common_page(this.module,this.page_name,n,!0,function(n){console.log(n),e.page_data=e.elements.page_data,e.page_data&&e.page_data.user&&(e.is_page_loaded=!0,e.mobile_number=e.page_data.user.mobile),t.stopPullDownRefresh()})},recount:function(){var t=this;t.count>0?(setTimeout(function(){t.count--,t.recount()},1e3),this.btn_txt=t.count):(t.count=60,this.btn_txt="获取验证码")},send_sms:function(e){var n=this,o=this.bra_service("bra","send_login_verify_code"),a=this,i={mobile:a.mobile_number,is_mixed:2},s=this.fetch(o,i,"post");s.then(function(e){t.showToast({icon:"none",title:"已经发送",duration:2e3}),n.recount()},function(e){setTimeout(function(){t.showToast({icon:"none",title:e.msg,duration:2e3})},100)})},send_verify_code:function(){this.send_sms(this.mobile_number)},update_field:function(){var e=this;if(this.code.length<4)return t.showToast({icon:"none",title:"请输入正确的验证码",duration:2e3});var n={};n.pass=this.pass,n.code=this.code,this.bra_common_page(this.module,this.page_name,n,!0,function(n){console.log(n);var o=n.data.page_data;e.show_toast(o.msg),1==o.code&&(e.$store.commit("change_login",!1),e.onNav({url:"/pages/hotel/user/index",type:"switch"})),t.stopPullDownRefresh()},"post",!1)}}};e.default=n}).call(this,n("543d")["default"])},3902:function(t,e,n){"use strict";n.r(e);var o=n("3713"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,function(){return o[t]})}(i);e["default"]=a.a},"3d4f":function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o})},"7a22":function(t,e,n){},a176:function(t,e,n){"use strict";var o=n("7a22"),a=n.n(o);a.a},a3fa:function(t,e,n){"use strict";n.r(e);var o=n("3d4f"),a=n("3902");for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);n("a176");var s,u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=c.exports},c3b7:function(t,e,n){"use strict";(function(t){n("5e7b"),n("921b");o(n("66fd"));var e=o(n("a3fa"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])}},[["c3b7","common/runtime","common/vendor"]]]);