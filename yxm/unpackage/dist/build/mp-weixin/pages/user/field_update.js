(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/field_update","bra/forms/bra_level_picker"],{"0b81":function(e,t,i){"use strict";i.r(t);var n=i("da51"),o=i("0d6b");for(var s in o)"default"!==s&&function(e){i.d(t,e,function(){return o[e]})}(s);var a,l=i("f0c5"),u=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=u.exports},"0d6b":function(e,t,i){"use strict";i.r(t);var n=i("32dd"),o=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=o.a},"10db":function(e,t,i){"use strict";i.r(t);var n=i("2d05"),o=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=o.a},"2b1b":function(e,t,i){"use strict";i.r(t);var n=i("cba2"),o=i("10db");for(var s in o)"default"!==s&&function(e){i.d(t,e,function(){return o[e]})}(s);i("8b36");var a,l=i("f0c5"),u=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=u.exports},"2d05":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{field_name:{type:String,default:function(){return""}},default_value:{},options:{default:function(){return[]}},level:{default:0},placeholder:{default:"请选择"}},data:function(){return{pickers_columns:[],picked_text:"",pick_ed:[],pick_init:!1,s_pick_ed:0,pre_picked:[]}},methods:{out_put:function(e){console.log("mhcms out:",e),this.$emit("updated",e)},init_level_picker:function(e){for(var t=!1,i=0;i<=e;i++){for(var n in this.pickers_columns[i]=[],this.pick_ed[i]=this.pre_picked[i],this.options){var o=this.options[n];0===i?(t||(t=o),this.pickers_columns[i].push(o)):(t||(t=this.pickers_columns[i-1][this.pre_picked[i]],console.log(t)),this.pickers_columns[i]=t.children)}console.log(i,this.pickers_columns[i],t),t=!1,this.$set(this.pickers_columns,i,this.pickers_columns[i])}this.pick_init=!0},on_col_change:function(e){e.currentTarget.dataset;var t=e.detail.column,i=e.detail.value,n=this.pickers_columns[t][i];if(this.$set(this.pre_picked,t,i),t<this.level)for(var o=t+1;o<=this.level;o++)console.log(o,this.level,n),this.$set(this.pickers_columns,o,n.children),n=n.children[0],this.$set(this.pre_picked,o,0)},on_select:function(e){for(var t=!1,i=[],n=this.level;n>=0;n--)t||(this.out_put([this.field_name,this.pickers_columns[n][this.pre_picked[n]].id]),t=!0),i.unshift(this.pickers_columns[n][this.pre_picked[n]].title);this.pick_ed=this.pre_picked,this.picked_text=i.join("-")}},created:function(){this.pick_ed=this.pre_picked=this.default_value,this.init_level_picker(this.level)}};t.default=n},"32dd":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(i("2b1b"));function n(e){return e&&e.__esModule?e:{default:e}}getApp();var o=function(){return i.e("bra/forms/bra_input").then(i.bind(null,"b163"))},s={components:{bra_input:o},data:function(){return{page_name:"bra_user_field_update",module:"bra",elements:{},page_data:{},field_name:"",model_id:"",value:"",field:{},is_page_loaded:!1}},onLoad:function(e){this.model_id=e.m,this.field_name=e.f,this.value=e.v},onShow:function(){this.is_page_loaded||this.onMhcmsPull()},methods:{onMhcmsPull:function(){var t=this,i={};i.model_id=this.model_id,i.field_name=this.field_name,this.bra_common_page(this.module,this.page_name,i,!0,function(i){console.log(i),t.page_data=t.elements.page_data,t.page_data&&t.page_data.user&&(t.is_page_loaded=!0),e.setNavigationBarTitle({title:"设置"+t.page_data.field.slug}),e.stopPullDownRefresh()})},activeFc:function(e){console.log(e)},update_val:function(e){console.log(e),this.value=e[1]},update_field:function(){var t=this;if(!this.value||this.value.length<=0)e.showToast({icon:"none",title:"必须填写",duration:2e3});else{var i={};i.model_id=this.model_id,i.field_name=this.field_name,i.value=this.value,this.bra_common_page(this.module,this.page_name,i,!0,function(i){console.log(i),t.onBack(),e.stopPullDownRefresh()},"post",!1)}}}};t.default=s}).call(this,i("543d")["default"])},"3c2f":function(e,t,i){},"8b36":function(e,t,i){"use strict";var n=i("3c2f"),o=i.n(n);o.a},afaf:function(e,t,i){"use strict";(function(e){i("5e7b"),i("921b");n(i("66fd"));var t=n(i("0b81"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},cba2:function(e,t,i){"use strict";var n,o=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"b",function(){return o}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return n})},da51:function(e,t,i){"use strict";var n,o=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"b",function(){return o}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return n})}},[["afaf","common/runtime","common/vendor"]]]);