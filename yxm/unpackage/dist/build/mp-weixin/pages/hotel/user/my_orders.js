(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hotel/user/my_orders"],{"096e":function(t,e,o){"use strict";o.r(e);var a=o("4706"),n=o.n(a);for(var s in a)"default"!==s&&function(t){o.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},4706:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{page_name:"hotel_user_my_orders",module:"hotel",is_page_loaded:!1,page_data:{},params:{},items:[],loader:{is_loading:!1,has_more:!0,page:1},status:""}},onLoad:function(){},onShow:function(){this.is_page_loaded||this.onMhcmsPull()},onPullDownRefresh:function(){this.onMhcmsPull(),t.stopPullDownRefresh()},onReachBottom:function(){this.bra_list_res(0)},methods:{delete_order:function(e){var o=this;t.showModal({title:"警告",cancelText:"取消",confirmText:"删除",content:"您好 您确定要删除订单吗!",success:function(t){if(t.confirm){var a={};a.id=e.id,o.bra_common_page(o.module,"hotel_order_delete",a,!0,function(t){console.log(t);var e=t.data.page_data;return o.show_toast(e.msg),1==e.code?o.onMhcmsPull():o.show_toast(e.msg)},"post",!1)}}})},cancel_order:function(e){var o=this;t.showModal({title:"警告",cancelText:"关闭",confirmText:"取消订单",content:"您好 您确定要取消订单吗!",success:function(t){if(t.confirm){var a={};a.id=e.id,o.bra_common_page(o.module,"hotel_order_cancel",a,!0,function(t){console.log(t);var e=t.data.page_data;return o.show_toast(e.msg),1==e.code?o.onMhcmsPull():o.show_toast(e.msg)},"post",!1)}}})},pay_order:function(e){var o=this;return console.log(e),this.get_app_pay_params(e.order_id,"micropay",function(e){console.log(JSON.stringify(e)),t.requestPayment({provider:"wxpay",orderInfo:JSON.stringify(e),success:function(t){o.show_toast("支付完成"),o.onNav({url:"/pages/hotel/user/index",type:"switch"}),console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t)),o.show_toast("支付失败！"),o.onNav({url:"/pages/hotel/user/index",type:"switch"})}})})},onMhcmsPull:function(){var e=this,o={};console.log(o),this.bra_common_page(this.module,this.page_name,o,!0,function(o){e.page_data=e.elements.page_data,e.is_page_loaded=!0,e.bra_list_res(1),t.stopPullDownRefresh()})},bra_list_res:function(e){var o=this,a=this;if(1===e&&(a.items=[],a.loader.page=1,a.loader.is_loading=!1,a.loader.has_more=!0),!a.loader.is_loading&&a.loader.has_more){a.loader.is_loading=!0;var n=a.params;n.page=a.loader.page,n.status=this.status,this.bra_common_page(this.module,this.page_name,n,!0,function(n){var s=n.data.page_data;console.log(n),o.is_page_loaded=!0,a.loader.has_more=s.data.length>0,a.loader.is_loading=!1,a.loader.has_more&&a.loader.page++,a.items=1===e?s.data:a.items.concat(s.data),t.stopPullDownRefresh()},"post",!1)}}},watch:{status:function(t){this.onMhcmsPull()}}};e.default=o}).call(this,o("543d")["default"])},"4db4":function(t,e,o){"use strict";(function(t){o("5e7b"),o("921b");a(o("66fd"));var e=a(o("5968"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},5968:function(t,e,o){"use strict";o.r(e);var a=o("7c10"),n=o("096e");for(var s in n)"default"!==s&&function(t){o.d(e,t,function(){return n[t]})}(s);o("b275");var r,i=o("f0c5"),l=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=l.exports},"7c10":function(t,e,o){"use strict";var a,n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.status=""},t.e1=function(e){t.status=1},t.e2=function(e){t.status=2},t.e3=function(e){t.status=99})},s=[];o.d(e,"b",function(){return n}),o.d(e,"c",function(){return s}),o.d(e,"a",function(){return a})},b275:function(t,e,o){"use strict";var a=o("bcb6"),n=o.n(a);n.a},bcb6:function(t,e,o){}},[["4db4","common/runtime","common/vendor"]]]);