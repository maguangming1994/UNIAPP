(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/hotel/index/index"],{5196:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.room_type=1},t.e1=function(e){t.room_type=2},t.e2=function(e){t.show_picker=!0},t.e3=function(e){t.show_picker=!1})},a=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i})},"556b":function(t,e,n){},"5cdb":function(t,e,n){"use strict";var i=n("556b"),o=n.n(i);o.a},"67f0":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;i(n("1880"));function i(t){return t&&t.__esModule?t:{default:t}}getApp();var o=function(){return n.e("bra/hotel/item_hotel").then(n.bind(null,"9b4f"))},a=function(){return n.e("components/uni-list/uni-list").then(n.bind(null,"51a1"))},c=function(){return n.e("components/uni-list-item/uni-list-item").then(n.bind(null,"2b8a"))},u=function(){return n.e("bra/forms/bra_date_period").then(n.bind(null,"49bb"))},r={components:{item_hotel:o,uniList:a,uniListItem:c,bra_date_period:u},data:function(){return{city_id:0,area:{},page_name:"hotel_index_index",module:"hotel",indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,elements:[],page_data:{},is_page_loaded:!1,room_type:1,show_picker:!1,picked_date:{},today_date:"",tomorrow_date:"",picked:{},helps:[]}},onLoad:function(){},onShow:function(){var e=t.getStorageSync("area");this.is_page_loaded?e.id!=this.city_id&&(this.area=e,this.city_id=e.id,this.onMhcmsPull()):this.onMhcmsPull()},onPullDownRefresh:function(){this.onMhcmsPull(),t.stopPullDownRefresh()},methods:{locate_area:function(e){var n=this,i=t.getStorageSync("area");if(console.log(this.city_id,i.id),this.city_id==i.id)return"";var o=this;t.getLocation({type:"wgs84",success:function(i){var a=o.bra_service("bra","lng_lat_area"),c=o.fetch(a,{lat:i.latitude,lng:i.longitude,coordtype:"wgs84ll"});c.then(function(i){o.area=i.data,n.city_id=o.area.id,t.setStorageSync("area",i.data),"function"===typeof e&&e(!0)})},fail:function(){o.show_toast("位置信息获取失败")},complete:function(){}})},getDate:function(t){this.show_picker=!1,t.room_type=this.room_type,this.picked=t},onMhcmsPull:function(){var e=this,n={limit:10};this.city_id>0&&(n.area_id=this.city_id),this.bra_common_page(this.module,this.page_name,n,!1,function(n){e.page_data=e.elements.page_data,e.is_page_loaded=!0,e.locate_area(),t.stopPullDownRefresh()})},goto_hotel:function(t){console.log(this.picked),this.set_cache("picked_date",this.picked);var e={url:"/pages/hotel/index/hotel",type:"navi"};this.onNav(e)},changeIndicatorDots:function(t){this.indicatorDots=!this.indicatorDots},changeAutoplay:function(t){this.autoplay=!this.autoplay},intervalChange:function(t){this.interval=t.target.value},durationChange:function(t){this.duration=t.target.value}},created:function(){console.log()},watch:{show_picker:function(e){e?(this.set_pulldown(!1),t.hideTabBar({})):(this.set_pulldown(!0),t.showTabBar({}))}}};e.default=r}).call(this,n("543d")["default"])},a4e3:function(t,e,n){"use strict";n.r(e);var i=n("5196"),o=n("b4a9");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("5cdb");var c,u=n("f0c5"),r=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);e["default"]=r.exports},a540:function(t,e,n){"use strict";(function(t){n("5e7b"),n("921b");i(n("66fd"));var e=i(n("a4e3"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},b4a9:function(t,e,n){"use strict";n.r(e);var i=n("67f0"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a}},[["a540","common/runtime","common/vendor"]]]);